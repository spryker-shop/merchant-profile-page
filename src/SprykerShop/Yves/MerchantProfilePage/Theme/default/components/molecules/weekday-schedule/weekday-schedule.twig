{% extends model('component') %}

{% define config = {
    name: 'weekday-schedule',
} %}

{% define data = {
    weekdaySchedule: required
} %}

{% block body %}
    {% set prevDayName = '' %}
    {% if data.weekdaySchedule is not empty %}
        {% block title %}
        <strong>{{ 'merchant_opening_hours.opening_hours_title' | trans }}</strong><br>
        {% endblock %}
        {% for weekday in data.weekdaySchedule %}

            {% if weekday.timeFrom is not empty and weekday.timeTo is not empty %}
                {% set weekdayTime = weekday.timeFrom | date('H:i') ~ ' - ' ~ weekday.timeTo | date('H:i') %}
            {% else %}
                {% set weekdayTime = 'merchant_opening_hours.opening_hours_closed' | trans %}
            {% endif %}

            {% if weekday.day != prevDayName %}
                {% block weekdayTitle %}
                    {% set localizedDayTitleKey = 'merchant_opening_hours.day.title.' ~ weekday.day | lower %}
                    {{ localizedDayTitleKey | trans }}:
                {% endblock %}
                {% set prevDayName = weekday.day %}
            {% else %}
                |
            {% endif %}
            {% block weekday %}
                {{ weekdayTime }}<br>
            {% endblock %}
        {% endfor %}
    {% endif %}
{% endblock %}
